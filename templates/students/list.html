{% extends 'students/base.html' %}

{% block content %}

<form method='get' class="mb-4">
    <div>
        <input type="text"
        name="q"
        class="form-control"
        placeholder="Search students..."
        value="{{ Search_query }}">
        <button type="submit" class="btn btn-primary">Search</button>
        {% if search_query %}
            <a href="{% url 'view_students' %}" class="btn btn-secondary">Clear</a>
        {% endif %}
    </div>
</form>
<a href="{% url 'add_student' %}" class='btn btn-primary mb-3'>Add Student</a>
<table class="table table-striped">
    <tr><th>Name</th><th>Course</th><th>Marks</th><th>Actions</th></tr>
    {% for student in students %}
    <tr>
        <td> {{ student.name }} </td>
        <td> {{ student.course }} </td>
        <td> {{ student.marks }} </td>
        <td>
            <a href="{% url 'update_student' student.id %}" class="btn btn-warning btn-sm">Edit</a>
            <a href="{% url 'delete_student' student.id %}" class="btn btn-danger btn-sm">Delete</a>
        </td>
    </tr>
    {% endfor %}
</table>
{% endblock %}